/* **********************************************
     Begin event-manager.js
********************************************** */(function(e,t){"use strict";var n=e.document,r=function(){function r(t,n,r){if(l(t)===!1||typeof n!="function")return e;r=parseInt(r||10,10);c("actions",t,n,r);return e}function i(){var t=Array.prototype.slice.call(arguments),n=t.shift();if(l(n)===!1)return e;p("actions",n,t);return e}function s(t){if(l(t)===!1)return e;f("actions",t);return e}function o(t,n,r){if(l(t)===!1||typeof n!="function")return e;r=parseInt(r||10,10);c("filters",t,n,r);return e}function u(){var t=Array.prototype.slice.call(arguments),n=t.shift();return l(n)===!1?e:p("filters",n,t)}function a(t){if(l(t)===!1)return e;f("filters",t);return e}function f(e,t){n[e][t]&&(n[e][t]=[])}function l(e){if(typeof e!="string")return!1;var t=e.replace(/^\s+|\s+$/i,"").split("."),n=t.shift();t=t.join(".");return n!==""&&t!==""}function c(e,t,r,i){var s={callback:r,priority:i},o=n[e][t];if(o){o.push(s);o=h(o)}else o=[s];n[e][t]=o}function h(e){var t,n,r;for(var i=1,s=e.length;i<s;i++){t=e[i];n=i;while((r=e[n-1])&&r.priority>t.priority){e[n]=e[n-1];--n}e[n]=t}return e}function p(e,r,i){var s=n[e][r];if(typeof s=="undefined")return e==="filters"?i[0]:!1;for(var o=0,u=s.length;o<u;o++)e==="actions"?s[o].callback.apply(t,i):i[0]=s[o].callback.apply(t,i);return e==="actions"?!0:i[0]}var e={removeFilter:a,applyFilters:u,addFilter:o,removeAction:s,doAction:i,addAction:r},n={actions:{},filters:{}};return e};e.wp=e.wp||{};e.wp.hooks=new r})(window);var acf={l10n:{},o:{},get:null,update:null,_e:null,get_atts:null,get_fields:null,get_uniqid:null,serialize_form:null,add_action:null,remove_action:null,do_action:null,add_filter:null,remove_filter:null,apply_filters:null,validation:null,conditional_logic:null,media:null,fields:{date_picker:null,color_picker:null,image:null,file:null,wysiwyg:null,gallery:null,relationship:null}};(function(e){e.extend(acf,{update:function(e,t){this.o[e]=t},get:function(e){return this.o[e]||null},_e:function(e,t){t=t||!1;var n=this.l10n[e]||!1;t&&(n=n[t]||!1);return n||""},get_fields:function(t,n,r){t=t||{};n=n||e("body");r=r||!0;var i=".acf-field";e.each(t,function(e,t){i+="[data-"+e+'="'+t+'"]'});var s=n.find(i);n.is(i)&&(s=s.add(n));r&&(s=s.filter(function(){return acf.apply_filters("is_field_ready_for_js",!0,e(this))}));return s},get_field:function(t,n){n=n||e("body");var r=this.get_fields({key:t},n);return r.exists()?r.first():!1},get_field_wrap:function(e){return e.closest(".acf-field")},get_field_data:function(e,t){t=t||!1;$field=this.get_field_wrap(e);return this.get_data($field,t)},get_data:function(t,n){n=n||!1;var r=!1;if(n){r=t.attr("data-"+n);e.isNumeric(r)&&(r=parseInt(r))}else{r={};t.exists()&&e.each(t[0].attributes,function(t,n){if(n.name.substr(0,5)=="data-"){var i=n.value,s=n.name.replace("data-","");e.isNumeric(i)&&(i.match(/[^0-9]/)||(i=parseInt(i)));r[s]=i}})}return r},is_field:function(t,n){var r=!0;t.hasClass("acf-field")||(r=!1);e.each(n,function(e,n){t.attr("data-"+e)!=n&&(r=!1)});return r},is_sub_field:function(e){return e.closest(".acf-field").exists()?!0:!1},get_uniqid:function(e,t){typeof e=="undefined"&&(e="");var n,r=function(e,t){e=parseInt(e,10).toString(16);return t<e.length?e.slice(e.length-t):t>e.length?Array(1+(t-e.length)).join("0")+e:e};this.php_js||(this.php_js={});this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(Math.random()*123456789));this.php_js.uniqidSeed++;n=e;n+=r(parseInt((new Date).getTime()/1e3,10),8);n+=r(this.php_js.uniqidSeed,5);t&&(n+=(Math.random()*10).toFixed(8).toString());return n},serialize_form:function(t){var n={},r={};$selector=t.find("select, textarea, input");$selector=$selector.filter(function(){return e(this).closest(".postbox.acf-hidden").exists()?!1:!0});e.each($selector.serializeArray(),function(e,t){if(t.name.slice(-2)==="[]"){t.name=t.name.replace("[]","");typeof r[t.name]=="undefined"&&(r[t.name]=-1);r[t.name]++;t.name+="["+r[t.name]+"]"}n[t.name]=t.value});return n},remove_tr:function(e,t){var n=e.height(),r=e.children().length;e.addClass("acf-remove-element");setTimeout(function(){e.removeClass("acf-remove-element");e.html('<td style="padding:0; height:'+n+'px" colspan="'+r+'"></td>');e.children("td").animate({height:0},250,function(){e.remove();typeof t=="function"&&t()})},250)},remove_el:function(t,n,r){r=r||0;t.css({height:t.height(),width:t.width(),position:"absolute",padding:0});t.wrap('<div class="acf-temp-wrap" style="height:'+t.outerHeight(!0)+'px"></div>');t.animate({opacity:0},250);t.parent(".acf-temp-wrap").animate({height:r},250,function(){e(this).remove();typeof n=="function"&&n()})},isset:function(){var e=arguments,t=e.length,n=null,r;if(t===0)throw new Error("Empty isset");n=e[0];for(i=1;i<t;i++){if(e[i]===r||n[e[i]]===r)return!1;n=n[e[i]]}return!0},open_popup:function(t){$popup=e("body > #acf-poup");if($popup.exists())return update_popup(t);var n=['<div id="acf-popup">','<div class="acf-popup-box acf-box">','<div class="title"><h3></h3><a href="#" class="acf-icon acf-close-popup"><i class="acf-sprite-delete "></i></a></div>','<div class="inner"></div>','<div class="loading"><i class="acf-loading"></i></div>',"</div>",'<div class="bg"></div>',"</div>"].join("");e("body").append(n);e("#acf-popup").on("click",".bg, .acf-close-popup",function(e){e.preventDefault();acf.close_popup()});return this.update_popup(t)},update_popup:function(t){$popup=e("#acf-popup");if(!$popup.exists())return!1;t=e.extend({},{title:"",content:"",width:0,height:0,loading:!1},t);t.width&&$popup.find(".acf-popup-box").css({width:t.width,"margin-left":0-t.width/2});t.height&&$popup.find(".acf-popup-box").css({height:t.height,"margin-top":0-t.height/2});t.title&&$popup.find(".title h3").html(t.title);t.content&&$popup.find(".inner").html(t.content);t.loading?$popup.find(".loading").show():$popup.find(".loading").hide();return $popup},close_popup:function(){$popup=e("#acf-popup");$popup.exists()&&$popup.remove()},prepare_for_ajax:function(e){e.nonce=acf.get("nonce");e=acf.apply_filters("prepare_for_ajax",e);return e},is_ajax_success:function(e){return e&&e.success?!0:!1},update_cookie:function(e,t,n){n=n||31;if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else var i="";document.cookie=e+"="+t+i+"; path=/"},get_cookie:function(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null},delete_cookie:function(e){this.update_cookie(e,"",-1)}});e.extend(acf,{add_action:function(){var e=arguments[0].split(" ");for(k in e){arguments[0]="acf."+e[k];wp.hooks.addAction.apply(this,arguments)}return this},remove_action:function(){arguments[0]="acf."+arguments[0];wp.hooks.removeAction.apply(this,arguments);return this},do_action:function(){arguments[0]="acf."+arguments[0];wp.hooks.doAction.apply(this,arguments);return this},add_filter:function(){arguments[0]="acf."+arguments[0];wp.hooks.addFilter.apply(this,arguments);return this},remove_filter:function(){arguments[0]="acf."+arguments[0];wp.hooks.removeFilter.apply(this,arguments);return this},apply_filters:function(){arguments[0]="acf."+arguments[0];return wp.hooks.applyFilters.apply(this,arguments)}});acf.add_filter("is_field_ready_for_js",function(e,t){t.parents(".acf-row.clone").exists()&&(e=!1);t.parents(".acf-flexible-content > .clones").exists()&&(e=!1);t.parents("#available-widgets").exists()&&(e=!1);return e});e.fn.exists=function(){return e(this).length>0};e.fn.outerHTML=function(){return e(this).clone().wrap("<div>").parent().html()};acf.media={upload_popup:function(t){t=e.extend({},{title:"",type:"",query:{},uploadedTo:0,multiple:0,activate:function(){},select:function(e,t){}},t);t.type&&(t.query={type:t.type});var n=wp.media({states:[new wp.media.controller.Library({title:t.title,multiple:t.multiple,library:wp.media.query(t.query),priority:20,filterable:"all"})]});n.on("content:activate",function(){var r=null,i=null;try{r=n.content.get().toolbar;i=r.get("filters")}catch(s){}if(!i)return!1;if(t.uploadedTo){i.$el.find('option[value="uploaded"]').remove();i.$el.after("<span>"+acf._e("image","uploadedTo")+"</span>");e.each(i.filters,function(e,n){n.props.uploadedTo=t.uploadedTo})}if(t.type=="image"){e.each(i.filters,function(e,t){t.props.type="image"});i.$el.find("option").each(function(){var n=e(this).attr("value");if(n=="uploaded"&&!t.uploadedTo)return;n.indexOf("image")===-1&&e(this).remove()});i.$el.val("image").trigger("change")}typeof t.activate=="function"&&t.activate.apply(this,[n])});n.on("select",function(){if(typeof t.select!="function")return!1;var e=n.state().get("selection");if(e){var r=-1;e.each(function(e){r++;t.select.apply(this,[e,r])})}});n.on("close",function(){setTimeout(function(){n.detach();n.dispose();n=null},500)});n.open();return n},edit_popup:function(t){t=e.extend({},{title:"",button:"",id:0},t);var n=wp.media({title:t.title,multiple:0,button:{text:t.button}});n.on("open",function(){n.content._mode!="browse"&&n.content.mode("browse");n.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var r=n.state().get("selection"),i=wp.media.attachment(t.id);e.isEmptyObject(i.changed)&&i.fetch();r.add(i)});n.on("select",function(){if(typeof t.select!="function")return!1;var e=n.state().get("selection");if(e){var r=-1;e.each(function(e){r++;t.select(e,r)})}});n.on("close",function(){setTimeout(function(){n.detach();n.dispose();n=null},500);n.$el.closest(".media-modal").removeClass("acf-media-modal")});n.open();return n},init:function(){if(typeof wp=="undefined")return!1;if(!acf.isset(wp,"media","view","AttachmentCompat","prototype"))return!1;var t=wp.media.view.AttachmentCompat.prototype;t.orig_render=t.render;t.orig_dispose=t.dispose;t.render=function(){var t=this;if(t.ignore_render)return this;this.orig_render();setTimeout(function(){var n=t.$el.closest(".media-modal");if(n.hasClass("acf-media-modal"))return;if(n.find(".media-frame-router .acf-expand-details").exists())return;var r=e(['<a href="#" class="acf-expand-details">','<span class="is-closed"><span class="acf-icon small"><i class="acf-sprite-left"></i></span>'+acf.l10n.core.expand_details+"</span>",'<span class="is-open"><span class="acf-icon small"><i class="acf-sprite-right"></i></span>'+acf.l10n.core.collapse_details+"</span>","</a>"].join(""));r.on("click",function(e){e.preventDefault();n.hasClass("acf-expanded")?n.removeClass("acf-expanded"):n.addClass("acf-expanded")});n.find(".media-frame-router").append(r)},0);clearTimeout(acf.media.render_timout);acf.media.render_timout=setTimeout(function(){acf.do_action("append",t.$el)},50);return this};t.dispose=function(){acf.do_action("remove",this.$el);this.orig_dispose()};t.save=function(e){var t={},n={};e&&e.preventDefault();_.each(this.$el.serializeArray(),function(e){if(e.name.slice(-2)==="[]"){e.name=e.name.replace("[]","");typeof n[e.name]=="undefined"&&(n[e.name]=-1);n[e.name]++;e.name+="["+n[e.name]+"]"}t[e.name]=e.value});this.ignore_render=!0;this.model.saveCompat(t)};setTimeout(function(){try{e.isNumeric(acf.o.post_id)&&(wp.media.view.settings.post.id=acf.o.post_id)}catch(t){}},10)}};acf.add_action("load",function(){acf.media.init()});acf.conditional_logic={items:{},triggers:{},init:function(){var t=this;e(document).on("change",".acf-field input, .acf-field textarea, .acf-field select",function(){t.change(e(this))});acf.add_action("append",function(e){t.render(e)});t.render()},add:function(t,n){var r=this;r.items[t]=n;e.each(n,function(n,i){e.each(i,function(e,n){acf.isset(r,"triggers",n.field)||(r.triggers[n.field]=[]);r.triggers[n.field].indexOf(t)===-1&&r.triggers[n.field].push(t)})})},change:function(t){var n=this,r=acf.get_field_data(t,"key");acf.isset(n,"triggers",r)&&e.each(n.triggers[r],function(e,t){n.render_field(t)})},render_field:function(t){var n=this,r=this.items[t],i=acf.get_fields({key:t});i.each(function(){var t=!1,i=e(this);e.each(r,function(r,s){var o=!0;e.each(s,function(e,t){if(!n.get_visibility(i,t)){o=!1;return!1}});if(o){t=!0;return!1}});t?n.show_field(i):n.hide_field(i)})},show_field:function(e){var t=acf.get_data(e,"key"),n="hidden-by-conditional-logic";if(acf.is_sub_field(e)){var r=e.closest("table").parent(".acf-repeater");if(r.exists()&&acf.get_data(r,"max")!=1){n+=" appear-empty";r.find('> table > thead th[data-key="'+t+'"]').removeClass(n)}}e.removeClass(n);e.find("input, textarea, select").not(".acf-disabled").removeAttr("disabled");acf.do_action("show_field",e)},hide_field:function(e){var t=acf.get_data(e,"key"),n="hidden-by-conditional-logic";if(acf.is_sub_field(e)){var r=e.closest("table").parent(".acf-repeater");if(r.exists()&&acf.get_data(r,"max")!=1){n+=" appear-empty";r.find('> table > thead th[data-key="'+t+'"]').addClass(n)}}e.addClass(n);e.find("input, textarea, select").attr("disabled","disabled");acf.do_action("hide_field",e)},get_visibility:function(t,n){var r=acf.is_sub_field(t)?t.parent():e("body"),i=acf.get_fields({key:n.field},r);i.exists()||t.parents("tr").each(function(){i=acf.get_fields({key:n.field},e(this));if(i.length==1)return!1});var s=this.calculate(n,i,t);return s},render:function(t){t=t||e("body");var n=this;acf.get_fields({},t).each(function(){var t=acf.get_data(e(this),"key");acf.isset(n,"items",t)&&n.render_field(t)})},calculate:function(t,n,r){var i=!1;if(n.hasClass("field_type-true_false")||n.hasClass("field_type-checkbox")||n.hasClass("field_type-radio")){var s=n.find('input[value="'+t.value+'"]:checked').exists();t.operator=="=="?s&&(i=!0):s||(i=!0)}else{var o=n.find("input, textarea, select").last().val();e.isArray(o)||(o=[o]);t.operator=="=="?e.inArray(t.value,o)>-1&&(i=!0):e.inArray(t.value,o)<0&&(i=!0)}return i}};acf.add_action("ready",function(){acf.conditional_logic.init()},100);e(document).ready(function(){acf.do_action("ready",e("body"))});e(window).load(function(){acf.do_action("load",e("body"))});e(document).on("change",".acf-field input, .acf-field textarea, .acf-field select",function(){e('#acf-form-data input[name="_acfchanged"]').exists()&&e('#acf-form-data input[name="_acfchanged"]').val(1)});acf.add_action("sortstart",function(t,n){if(t.is("tr")){t.css("position","relative");t.children().each(function(){e(this).width(e(this).width())});t.css("position","absolute");n.html('<td style="height:'+t.height()+'px; padding:0;" colspan="'+t.children("td").length+'"></td>')}})})(jQuery);(function(e){acf.ajax={o:{action:"acf/post/get_field_groups",post_id:0,page_template:0,page_parent:0,page_type:0,post_format:0,post_taxonomy:0,lang:0},update:function(e,t){this.o[e]=t;return this},get:function(e){return this.o[e]||null},init:function(){if(!acf.get("ajax"))return!1;this.update("post_id",acf.o.post_id);if(e("#icl-als-first").length>0){var t=e("#icl-als-first").children("a").attr("href"),n=new RegExp("lang=([^&#]*)"),r=n.exec(t);this.update("lang",r[1])}this.add_events()},fetch:function(){var t=this;e.ajax({url:acf.get("ajaxurl"),data:acf.prepare_for_ajax(this.o),type:"post",dataType:"json",success:function(e){acf.is_ajax_success(e)&&t.render(e.data)}})},render:function(t){e(".acf-postbox").addClass("acf-hidden");e(".acf-postbox-toggle").addClass("acf-hidden");e.each(t,function(t,n){var r=e("#acf-"+n.key),i=e('#adv-settings .acf_postbox-toggle[for="acf-'+n.key+'-hide"]');r.removeClass("acf-hidden hide-if-js");i.removeClass("acf-hidden hide-if-js");i.find('input[type="checkbox"]').attr("checked","checked");r.find(".acf-replace-with-fields").each(function(){e(this).replaceWith(n.html);acf.do_action("append",r)});t===0&&e("#acf-style").html(n.style)})},sync_taxonomy_terms:function(){var t=[];e(".categorychecklist input:checked, .acf-taxonomy-field input:checked, .acf-taxonomy-field option:selected").each(function(){if(e(this).is(":hidden")||e(this).is(":disabled"))return;if(e(this).closest(".media-frame").exists())return;if(e(this).closest(".acf-taxonomy-field").exists()&&e(this).closest(".acf-taxonomy-field").attr("data-save")=="0")return;t.indexOf(e(this).val())===-1&&t.push(e(this).val())});this.update("post_taxonomy",t).fetch()},add_events:function(){var t=this;e(document).on("change","#page_template",function(){var n=e(this).val();t.update("page_template",n).fetch()});e(document).on("change","#parent_id",function(){var n="parent",r=0;if(val!=""){n="child";r=e(this).val()}t.update("page_type",n).update("page_parent",r).fetch()});e(document).on("change",'#post-formats-select input[type="radio"]',function(){var n=e(this).val();n=="0"&&(n="standard");t.update("post_format",n).fetch()});e(document).on("change",".categorychecklist input, .acf-taxonomy-field input, .acf-taxonomy-field select",function(){if(e(this).closest(".acf-taxonomy-field").exists()&&e(this).closest(".acf-taxonomy-field").attr("data-save")=="0")return;if(e(this).closest(".media-frame").exists())return;setTimeout(function(){t.sync_taxonomy_terms()},1)})}};e(document).ready(function(){acf.ajax.init()})})(jQuery);(function(e){acf.fields.color_picker={timeout:null,init:function(e){var t=this,n=e.clone();n.attr({type:"hidden","class":"",id:"",value:""});e.before(n);e.wpColorPicker({change:function(r,i){t.change(e,n)}})},change:function(e,t){this.timeout&&clearTimeout(this.timeout);this.timeout=setTimeout(function(){t.trigger("change")},100)}};acf.add_action("ready append",function(t){acf.get_fields({type:"color_picker"},t).each(function(){acf.fields.color_picker.init(e(this).find('input[type="text"]'))})})})(jQuery);(function(e){acf.fields.date_picker={init:function(t){var n=t.find('input[type="text"]'),r=t.find('input[type="hidden"]'),i=acf.get_data(t);n.val(r.val());var s=e.extend({},acf.l10n.date_picker,{dateFormat:"yymmdd",altField:r,altFormat:"yymmdd",changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:i.first_day});s=acf.apply_filters("date_picker_args",s,t);n.addClass("active").datepicker(s);n.datepicker("option","dateFormat",i.display_format);e("body > #ui-datepicker-div").exists()&&e("body > #ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />')},blur:function(e){e.val()||e.siblings('input[type="hidden"]').val("")}};acf.add_action("ready append",function(t){acf.get_fields({type:"date_picker"},t).each(function(){acf.fields.date_picker.init(e(this).find(".acf-date_picker"))})});e(document).on("blur",'.acf-date_picker input[type="text"]',function(t){acf.fields.date_picker.blur(e(this))})})(jQuery);(function(e){acf.fields.file={edit:function(e){var t=e.closest(".acf-file-uploader"),n=t.find('[data-name="id"]').val();acf.media.edit_popup({title:acf._e("file","edit"),button:acf._e("file","update"),id:n,select:function(e,n){var r={id:e.id,title:e.attributes.title,name:e.attributes.filename,url:e.attributes.url,icon:e.attributes.icon,size:e.attributes.filesize};acf.fields.file.add(t,r)}})},remove:function(e){var t=e.closest(".acf-file-uploader");t.find('[data-name="icon"]').attr("src","");t.find('[data-name="title"]').text("");t.find('[data-name="name"]').text("").attr("href","");t.find('[data-name="size"]').text("");t.find('[data-name="id"]').val("").trigger("change");t.removeClass("has-value")},popup:function(e){var t=e.closest(".acf-file-uploader"),n=acf.get_data(t,"library"),r=acf.media.upload_popup({title:acf._e("file","select"),type:"",multiple:t.closest(".repeater").exists()?1:0,uploadedTo:n=="uploadedTo"?acf.get("post_id"):0,select:function(e,n){if(n>1){var r=t.closest("td"),i=r.closest(".row"),s=i.closest(".repeater"),o=r.attr("data-field_key"),u="td .acf-file-uploader:first";o&&(u='td[data-field_key="'+o+'"] .acf-file-uploader');i.next(".row").exists()||s.find(".add-row-end").trigger("click");t=i.next(".row").find(u)}var a={id:e.id,title:e.attributes.title,name:e.attributes.filename,url:e.attributes.url,icon:e.attributes.icon,size:e.attributes.filesize};acf.fields.file.add(t,a)}})},add:function(e,t){e.find('[data-name="icon"]').attr("src",t.icon);e.find('[data-name="title"]').text(t.title);e.find('[data-name="name"]').text(t.name).attr("href",t.url);e.find('[data-name="size"]').text(t.size);e.find('[data-name="id"]').val(t.id).trigger("change");e.addClass("has-value")}};e(document).on("click",'.acf-file-uploader [data-name="remove-button"]',function(t){t.preventDefault();acf.fields.file.remove(e(this))});e(document).on("click",'.acf-file-uploader [data-name="edit-button"]',function(t){t.preventDefault();acf.fields.file.edit(e(this))});e(document).on("click",'.acf-file-uploader [data-name="add-button"]',function(t){t.preventDefault();acf.fields.file.popup(e(this))})})(jQuery);(function(e){acf.fields.google_map={$el:null,$input:null,o:{},ready:!1,geocoder:!1,map:!1,maps:{},set:function(t){e.extend(this,t);this.$input=this.$el.find(".value");this.o=acf.get_data(this.$el);this.maps[this.o.id]&&(this.map=this.maps[this.o.id]);return this},init:function(){this.geocoder||(this.geocoder=new google.maps.Geocoder);this.ready=!0;this.render()},render:function(){var e=this,t=this.$el,n={zoom:parseInt(this.o.zoom),center:new google.maps.LatLng(this.o.lat,this.o.lng),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.$el.find(".canvas")[0],n);var r=new google.maps.places.Autocomplete(this.$el.find(".search")[0]);r.map=this.map;r.bindTo("bounds",this.map);this.map.marker=new google.maps.Marker({draggable:!0,raiseOnDrag:!0,map:this.map});this.map.$el=this.$el;var i=this.$el.find(".input-lat").val(),s=this.$el.find(".input-lng").val();i&&s&&this.update(i,s).center();google.maps.event.addListener(r,"place_changed",function(t){var n=this.map.$el,r=n.find(".search").val();n.find(".input-address").val(r);n.find(".title h4").text(r);var i=this.getPlace();if(i.geometry){var s=i.geometry.location.lat(),o=i.geometry.location.lng();e.set({$el:n}).update(s,o).center()}else e.geocoder.geocode({address:r},function(t,r){if(r!=google.maps.GeocoderStatus.OK){console.log("Geocoder failed due to: "+r);return}if(!t[0]){console.log("No results found");return}i=t[0];var s=i.geometry.location.lat(),o=i.geometry.location.lng();e.set({$el:n}).update(s,o).center()})});google.maps.event.addListener(this.map.marker,"dragend",function(){var t=this.map.$el,n=this.map.marker.getPosition(),r=n.lat(),i=n.lng();e.set({$el:t}).update(r,i).sync()});google.maps.event.addListener(this.map,"click",function(t){var n=this.$el,r=t.latLng.lat(),i=t.latLng.lng();e.set({$el:n}).update(r,i).sync()});this.maps[this.o.id]=this.map},update:function(e,t){var n=new google.maps.LatLng(e,t);this.$el.find(".input-lat").val(e);this.$el.find(".input-lng").val(t).trigger("change");this.map.marker.setPosition(n);this.map.marker.setVisible(!0);this.$el.addClass("active");this.$el.closest(".acf-field").removeClass("error");return this},center:function(){var e=this.map.marker.getPosition(),t=this.o.lat,n=this.o.lng;if(e){t=e.lat();n=e.lng()}var r=new google.maps.LatLng(t,n);this.map.setCenter(r)},sync:function(){var e=this.$el,t=this.map.marker.getPosition(),n=new google.maps.LatLng(t.lat(),t.lng());this.geocoder.geocode({latLng:n},function(t,n){if(n!=google.maps.GeocoderStatus.OK){console.log("Geocoder failed due to: "+n);return}if(!t[0]){console.log("No results found");return}var r=t[0];e.find(".title h4").text(r.formatted_address);e.find(".input-address").val(r.formatted_address).trigger("change")});return this},locate:function(){var e=this,t=this.$el;if(!navigator.geolocation){alert(acf.l10n.google_map.browser_support);return this}t.find(".title h4").text(acf.l10n.google_map.locating+"...");t.addClass("active");navigator.geolocation.getCurrentPosition(function(n){var r=n.coords.latitude,i=n.coords.longitude;e.set({$el:t}).update(r,i).sync().center()})},clear:function(){this.$el.removeClass("active");this.$el.find(".search").val("");this.$el.find(".input-address").val("");this.$el.find(".input-lat").val("");this.$el.find(".input-lng").val("");this.map.marker.setVisible(!1)},edit:function(){this.$el.removeClass("active");var e=this.$el.find(".title h4").text();this.$el.find(".search").val(e).focus()},refresh:function(){google.maps.event.trigger(this.map,"resize");this.center()}};acf.add_action("ready append",function(t){var n=acf.get_fields({type:"google_map"},t);if(!n.exists())return;typeof google=="undefined"?e.getScript("https://www.google.com/jsapi",function(){google.load("maps","3",{other_params:"sensor=false&libraries=places",callback:function(){n.each(function(){acf.fields.google_map.set({$el:e(this).find(".acf-google-map")}).init()})}})}):n.each(function(){acf.fields.google_map.set({$el:e(this).find(".acf-google-map")}).init()})});e(document).on("click",".acf-google-map .acf-sprite-delete",function(t){t.preventDefault();acf.fields.google_map.set({$el:e(this).closest(".acf-google-map")}).clear();e(this).blur()});e(document).on("click",".acf-google-map .acf-sprite-locate",function(t){t.preventDefault();acf.fields.google_map.set({$el:e(this).closest(".acf-google-map")}).locate();e(this).blur()});e(document).on("click",".acf-google-map .title h4",function(t){t.preventDefault();acf.fields.google_map.set({$el:e(this).closest(".acf-google-map")}).edit()});e(document).on("keydown",".acf-google-map .search",function(e){if(e.which==13)return!1});e(document).on("blur",".acf-google-map .search",function(t){var n=e(this).closest(".acf-google-map");n.find(".input-lat").val()&&n.addClass("active")});acf.add_action("show_field",function(e){if(!acf.fields.google_map.ready)return;acf.is_field(e,{type:"google_map"})&&acf.fields.google_map.set({$el:e.find(".acf-google-map")}).refresh()})})(jQuery);(function(e){acf.fields.image={edit:function(e){var t=e.closest(".acf-image-uploader"),n=t.find('[data-name="value-id"]').val();acf.media.edit_popup({title:acf._e("image","edit"),button:acf._e("image","update"),id:n})},remove:function(e){var t=e.closest(".acf-image-uploader");t.find('[data-name="value-url"]').attr("src","");t.find('[data-name="value-id"]').val("").trigger("change");t.removeClass("has-value")},popup:function(e){var t=e.closest(".acf-image-uploader"),n=acf.get_data(t,"library"),r=acf.get_data(t,"preview_size"),i=acf.media.upload_popup({title:acf._e("image","select"),type:"image",multiple:t.closest(".repeater").exists()?1:0,uploadedTo:n=="uploadedTo"?acf.get("post_id"):0,select:function(e,n){if(n>1){var i=t.closest("td"),s=i.closest(".row"),o=s.closest(".repeater"),u=i.attr("data-field_key"),a="td .acf-image-uploader:first";u&&(a='td[data-field_key="'+u+'"] .acf-image-uploader');s.next(".row").exists()||o.find(".add-row-end").trigger("click");t=s.next(".row").find(a)}var f=e.id,l=e.attributes.url;e.attributes.sizes&&e.attributes.sizes[r]&&(l=e.attributes.sizes[r].url);acf.fields.image.add(t,f,l)}})},add:function(e,t,n){e.find('[data-name="value-url"]').attr("src",n);e.find('[data-name="value-id"]').val(t).trigger("change");e.addClass("has-value")}};e(document).on("click",'.acf-image-uploader [data-name="remove-button"]',function(t){t.preventDefault();acf.fields.image.remove(e(this))});e(document).on("click",'.acf-image-uploader [data-name="edit-button"]',function(t){t.preventDefault();acf.fields.image.edit(e(this))});e(document).on("click",'.acf-image-uploader [data-name="add-button"]',function(t){t.preventDefault();acf.fields.image.popup(e(this))})})(jQuery);(function(e){acf.fields.oembed={search:function(t){var n=t.find('[data-name="search-input"]').val();if(n.substr(0,4)!="http"){n="http://"+n;t.find('[data-name="search-input"]').val(n)}t.addClass("is-loading");var r={action:"acf/fields/oembed/search",nonce:acf.get("nonce"),s:n,width:acf.get_data(t,"width"),height:acf.get_data(t,"height")};t.data("xhr")&&t.data("xhr").abort();var i=e.ajax({url:acf.get("ajaxurl"),data:r,type:"post",dataType:"html",success:function(e){t.removeClass("is-loading");acf.fields.oembed.search_success(t,n,e);e||acf.fields.oembed.search_error(t)}});t.data("xhr",i)},search_success:function(e,t,n){e.removeClass("has-error").addClass("has-value");e.find('[data-name="value-input"]').val(t);e.find('[data-name="value-title"]').html(t);e.find('[data-name="value-embed"]').html(n)},search_error:function(e){e.removeClass("has-value").addClass("has-error")},clear:function(e){e.removeClass("has-error has-value");e.find('[data-name="search-input"]').val("");e.find('[data-name="value-input"]').val("");e.find('[data-name="value-title"]').html("");e.find('[data-name="value-embed"]').html("")},edit:function(e){e.addClass("is-editing");var t=e.find('[data-name="value-title"]').text();e.find('[data-name="search-input"]').val(t).focus()},blur:function(e){e.removeClass("is-editing");var t=e.find('[data-name="value-title"]').text(),n=e.find('[data-name="search-input"]').val(),r=e.find('[data-name="value-embed"]').html();if(!n){this.clear(e);return}if(n==t)return;this.search(e)}};e(document).on("click",'.acf-oembed [data-name="search-button"]',function(t){t.preventDefault();acf.fields.oembed.search(e(this).closest(".acf-oembed"));e(this).blur()});e(document).on("click",'.acf-oembed [data-name="clear-button"]',function(t){t.preventDefault();acf.fields.oembed.clear(e(this).closest(".acf-oembed"));e(this).blur()});e(document).on("click",'.acf-oembed [data-name="value-title"]',function(t){t.preventDefault();acf.fields.oembed.edit(e(this).closest(".acf-oembed"))});e(document).on("keypress",'.acf-oembed [data-name="search-input"]',function(e){e.which==13&&e.preventDefault()});e(document).on("keyup",'.acf-oembed [data-name="search-input"]',function(t){if(!e(this).val())return;if(!t.which)return;acf.fields.oembed.search(e(this).closest(".acf-oembed"))});e(document).on("blur",'.acf-oembed [data-name="search-input"]',function(t){acf.fields.oembed.blur(e(this).closest(".acf-oembed"))})})(jQuery);(function(e){acf.fields.radio={change:function(e){var t=e.closest("ul"),n=t.find('input[type="radio"]:checked'),r=t.find('input[type="text"]');if(n.val()=="other"){r.removeAttr("disabled");r.attr("name",n.attr("name"))}else{r.attr("disabled","disabled");r.attr("name","")}}};e(document).on("change",'.acf-radio-list input[type="radio"]',function(t){acf.fields.radio.change(e(this))})})(jQuery);(function(e){acf.fields.relationship={$el:null,$wrap:null,$input:null,$filters:null,$choices:null,$values:null,o:{},set:function(t){e.extend(this,t);this.$wrap=this.$el.find(".acf-relationship");this.$input=this.$wrap.find(".acf-hidden input");this.$choices=this.$wrap.find(".choices"),this.$values=this.$wrap.find(".values");this.o=acf.get_data(this.$wrap);return this},init:function(){var e=this;this.$values.children(".list").sortable({items:"li",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,update:function(){e.$input.trigger("change")}});this.fetch()},fetch:function(){var t=this,n=this.$el;this.$choices.children(".list").html("<p>"+acf._e("relationship","loading")+"...</p>");var r={action:"acf/fields/relationship/query",field_key:this.$el.attr("data-key"),nonce:acf.get("nonce"),post_id:acf.get("post_id")};e.extend(r,this.o);this.$el.data("xhr")&&this.$el.data("xhr").abort();var i=e.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"get",cache:!0,data:r,success:function(e){t.set({$el:n}).render(e)}});this.$el.data("xhr",i)},render:function(t){var n=this;if(!t||!t.length){this.$choices.children(".list").html("<li><p>"+acf._e("relationship","empty")+"</p></li>");return}this.$choices.children(".list").html(this.walker(t));this.$values.find(".acf-relationship-item").each(function(){var t=e(this).attr("data-id");n.$choices.find('.acf-relationship-item[data-id="'+t+'"]').addClass("disabled")});if(this.o.s){var r=this.o.s;this.$choices.find('.acf-relationship-item:contains("'+r+'")').each(function(){var t=e(this).html().replace(r,'<span class="match">'+r+"</span>");e(this).html(t)})}},walker:function(t){var n="";if(e.isArray(t))for(var r in t)n+=this.walker(t[r]);else if(e.isPlainObject(t))if(t.children!==undefined){n+='<li><span class="acf-relationship-label">'+t.text+'</span><ul class="acf-bl">';n+=this.walker(t.children);n+="</ul></li>"}else n+='<li><span class="acf-relationship-item" data-id="'+t.id+'">'+t.text+"</span></li>";return n},add:function(e){if(this.o.max>0&&this.$values.find(".acf-relationship-item").length>=this.o.max){alert(acf.l10n.relationship.max.replace("{max}",this.o.max));return!1}if(e.hasClass("disabled"))return!1;e.addClass("disabled");var t={value:e.attr("data-id"),text:e.html(),name:this.$input.attr("name")},n=_.template(acf.l10n.relationship.tmpl_li,t);this.$values.children(".list").append(n);this.$input.trigger("change");this.$el.removeClass("error")},remove:function(e){var t=e.attr("data-id");e.parent("li").remove();this.$choices.find('.acf-relationship-item[data-id="'+t+'"]').removeClass("disabled");this.$input.trigger("change")}};acf.add_action("ready append",function(t){acf.get_fields({type:"relationship"},t).each(
function(){acf.fields.relationship.set({$el:e(this)}).init()})});e(document).on("keypress",".acf-relationship .filters [data-filter]",function(e){e.which==13&&e.preventDefault()});e(document).on("change keyup",".acf-relationship .filters [data-filter]",function(t){var n=e(this).val(),r=e(this).attr("data-filter"),i=e(this).closest(".acf-relationship");$el=i.closest(".acf-field");if(i.attr("data-"+r)==n)return;i.attr("data-"+r,n);acf.fields.relationship.set({$el:$el}).fetch()});e(document).on("click",".acf-relationship .choices .acf-relationship-item",function(t){t.preventDefault();acf.fields.relationship.set({$el:e(this).closest(".acf-field")}).add(e(this));e(this).blur()});e(document).on("click",".acf-relationship .values .acf-icon",function(t){t.preventDefault();acf.fields.relationship.set({$el:e(this).closest(".acf-field")}).remove(e(this).closest(".acf-relationship-item"));e(this).blur()})})(jQuery);(function(e){acf.fields.select={init:function(t){if(!t.exists())return!1;var n=acf.get_data(t);if(!n.ui)return!1;var r=acf.get_field_wrap(t),i=t.siblings("input"),s={width:"100%",allowClear:n.allow_null,placeholder:n.placeholder,multiple:n.multiple,data:[],escapeMarkup:function(e){return e}};n.multiple&&(s.formatSelection=function(e,n){n.parent().append('<input type="hidden" name="'+t.attr("name")+'" value="'+e.id+'" />');return e.text});if(n.allow_null){s.placeholder=n.placeholder;t.find('option[value=""]').remove()}var o=i.val().split(","),u=[],a={};t.find("option").each(function(t){var n="_root";e(this).parent().is("optgroup")&&(n=e(this).parent().attr("label"));a[n]||(a[n]=[]);a[n].push({id:e(this).attr("value"),text:e(this).text()})});e.each(a,function(t,n){t=="_root"?e.each(n,function(e,t){s.data.push(t)}):s.data.push({text:t,children:n})});e.each(o,function(t,n){e.each(s.data,function(e,t){n==t.id&&u.push(t)})});if(n.ajax){s.ajax={url:acf.get("ajaxurl"),dataType:"json",type:"get",cache:!0,data:function(e,t){var n="acf/fields/"+acf.get_data(r,"type")+"/query",i={action:n,field_key:acf.get_data(r,"key"),nonce:acf.get("nonce"),post_id:acf.get("post_id"),s:e};return i},results:function(e,t){return{results:e}}};s.initSelection=function(e,t){n.multiple||(u=u[0]);t(u)}}s=acf.apply_filters("select2_args",s,r);i.select2(s);i.select2("container").before(i);n.multiple&&i.select2("container").find("ul.select2-choices").sortable({start:function(){i.select2("onSortStart")},update:function(){i.select2("onSortEnd")}});t.attr("disabled","disabled").addClass("acf-disabled")},remove:function(e){acf.get_data(e,"ui")&&e.siblings(".select2-container").remove()}};acf.add_action("ready append",function(t){acf.get_fields({type:"select"},t).each(function(){acf.fields.select.init(e(this).find("select"))});acf.get_fields({type:"user"},t).each(function(){acf.fields.select.init(e(this).find("select"))});acf.get_fields({type:"post_object"},t).each(function(){acf.fields.select.init(e(this).find("select"))});acf.get_fields({type:"page_link"},t).each(function(){acf.fields.select.init(e(this).find("select"))});acf.get_fields({type:"taxonomy"},t).each(function(){acf.fields.select.init(e(this).find("select"))})});acf.add_action("remove",function(t){acf.get_fields({type:"select"},t).each(function(){acf.fields.select.remove(e(this).find("select"))})})})(jQuery);(function(e){acf.fields.tab={add_group:function(e){var t="";e.is("tbody")?t='<tr class="acf-tab-wrap"><td colspan="2"><ul class="acf-hl acf-tab-group"></ul></td></tr>':t='<div class="acf-tab-wrap"><ul class="acf-hl acf-tab-group"></ul></div>';acf.get_fields({type:"tab"},e).first().before(t)},add_tab:function(e){var t=e.parent(),n=e.find(".acf-tab"),r=acf.get_data(e,"key"),i=n.text();t.children(".acf-tab-wrap").exists()||this.add_group(t);t.children(".acf-tab-wrap").find(".acf-tab-group").append('<li><a class="acf-tab-button" href="#" data-key="'+r+'">'+i+"</a></li>")},toggle:function(t){var n=this,r=t.closest(".acf-tab-wrap").parent(),i=t.attr("data-key");t.parent("li").addClass("active").siblings("li").removeClass("active");acf.get_fields({type:"tab"},r).each(function(){var t=e(this);acf.is_field(e(this),{key:i})?n.show_tab_fields(e(this)):n.hide_tab_fields(e(this))})},show_tab_fields:function(t){t.nextUntil('.acf-field[data-type="tab"]').each(function(){e(this).removeClass("hidden-by-tab");acf.do_action("show_field",e(this))})},hide_tab_fields:function(t){t.nextUntil('.acf-field[data-type="tab"]').each(function(){e(this).addClass("hidden-by-tab");acf.do_action("hide_field",e(this))})},refresh:function(t){var n=this;t.find(".acf-tab-group").each(function(){e(this).find(".acf-tab-button:first").each(function(){n.toggle(e(this))})})}};acf.add_action("ready append",function(t){var n=!1;acf.get_fields({type:"tab"},t).each(function(){acf.fields.tab.add_tab(e(this));n=!0});n&&acf.fields.tab.refresh(t)});e(document).on("click",".acf-tab-button",function(t){t.preventDefault();acf.fields.tab.toggle(e(this));e(this).trigger("blur")});acf.add_action("hide_field",function(e){if(!acf.is_field(e,{type:"tab"}))return;var t=e.siblings(".acf-tab-wrap").find('a[data-key="'+acf.get_data(e,"key")+'"]'),n=t.parent();if(n.is(":hidden"))return;n.hide();if(n.siblings(".active").exists())return;if(n.siblings(":visible").exists()){n.siblings(":visible").first().children("a").trigger("click");return}acf.fields.tab.hide_tab_fields(e)});acf.add_action("show_field",function(e){if(!acf.is_field(e,{type:"tab"}))return;var t=e.siblings(".acf-tab-wrap").find('a[data-key="'+acf.get_data(e,"key")+'"]'),n=t.parent();if(n.is(":visible"))return;n.show();if(n.hasClass("active"))return;n.siblings(":visible").exists()||t.trigger("click")});acf.add_filter("validation_complete",function(t,n){e.each(t.errors,function(e,t){var r=n.find('[name="'+t.input+'"]').first(),i=acf.get_field_wrap(r),s=i.prevAll('.acf-field[data-type="tab"]:first');if(!s.exists())return;if(i.hasClass("hidden-by-tab")){s.siblings(".acf-tab-wrap").find('a[data-key="'+acf.get_data(s,"key")+'"]').trigger("click");return!1}return!1});return t})})(jQuery);(function(e){acf.validation={active:1,ignore:0,error_class:"acf-error",message_class:"acf-error-message",$trigger:null,init:function(){if(this.active==0)return;this.add_events()},add_error:function(e,t){e.addClass(this.error_class);if(t!==undefined){e.children(".acf-input").children("."+this.message_class).remove();e.children(".acf-input").prepend('<div class="'+this.message_class+'"><p>'+t+"</p></div>")}acf.do_action("add_field_error",e)},remove_error:function(e){$message=e.children(".acf-input").children("."+this.message_class);e.removeClass(this.error_class);setTimeout(function(){acf.remove_el($message)},250);acf.do_action("remove_field_error",e)},add_warning:function(e,t){this.add_error(e,t);setTimeout(function(){acf.validation.remove_error(e)},1e3)},fetch:function(t){var n=this,r=acf.serialize_form(t);r.action="acf/validate_save_post";e.ajax({url:acf.get("ajaxurl"),data:r,type:"post",dataType:"json",success:function(e){n.complete(t,e)}})},complete:function(t,n){n=acf.apply_filters("validation_complete",n,t);var r=this;t.children("."+this.message_class).remove();if(e("#submitdiv").exists()){e("#submitdiv").find(".disabled").removeClass("disabled");e("#submitdiv").find(".button-disabled").removeClass("button-disabled");e("#submitdiv").find(".button-primary-disabled").removeClass("button-primary-disabled");e("#submitdiv .spinner").hide()}if(!n||n.result==1){t.find(".acf-postbox:hidden").remove();this.ignore=1;acf.do_action("submit",t);this.$trigger?this.$trigger.click():t.submit();return}t.prepend('<div class="'+this.message_class+'"><p>'+n.message+"</p></div>");e.each(n.errors,function(e,n){var i=t.find('[name="'+n.input+'"]').first(),s=acf.get_field_wrap(i);r.add_error(s,n.message)})},add_events:function(){var t=this;e(document).on("focus click change",'.acf-field[data-required="1"] input, .acf-field[data-required="1"] textarea, .acf-field[data-required="1"] select',function(n){t.remove_error(e(this).closest(".acf-field"))});e(document).on("click","#save-post",function(){t.ignore=1;t.$trigger=e(this)});e(document).on("click","#post-preview",function(){t.ignore=1;t.$trigger=e(this)});e(document).on("click","#submit",function(){t.$trigger=e(this)});e(document).on("click","#publish",function(){t.$trigger=e(this)});e(document).on("submit","form",function(n){if(!e(this).find("#acf-form-data").exists())return!0;if(t.ignore==1){t.ignore=0;return!0}if(t.active==0)return!0;n.preventDefault();t.fetch(e(this))})}};acf.add_action("ready",function(){acf.validation.init()})})(jQuery);(function(e){acf.fields.wysiwyg={$el:null,$textarea:null,o:{},set:function(t){e.extend(this,t);this.$textarea=this.$el.find("textarea");this.o=acf.get_data(this.$el);this.o.id=this.$textarea.attr("id");return this},has_tinymce:function(){var e=!1;typeof tinyMCE=="object"&&(e=!0);return e},get_toolbar:function(){return acf.isset(this,"toolbars",this.o.toolbar)?this.toolbars[this.o.toolbar]:!1},init:function(){var t=this.get_toolbar(),n="mceAddControl",r="theme_advanced_buttons{i}",i=e.extend({},tinyMCE.settings);if(tinymce.majorVersion==4){n="mceAddEditor";r="toolbar{i}"}if(t)for(var s=1;s<5;s++){var o="";acf.isset(t,"theme_advanced_buttons"+s)&&(o=t["theme_advanced_buttons"+s]);tinyMCE.settings[r.replace("{i}",s)]=o}tinyMCE.settings=acf.apply_filters("wysiwyg_tinymce_settings",tinyMCE.settings,this.o.id);tinyMCE.execCommand(n,!1,this.o.id);this.add_events();tinyMCE.settings=i;wpActiveEditor=null},add_events:function(){var t=this.o.id,n=tinyMCE.get(t);if(!n)return;var r=e("#wp-"+t+"-wrap"),i=e(n.getBody()),s=e(n.getElement());r.on("click",function(){acf.validation.remove_error(r.closest(".acf-field"))});i.on("focus",function(){wpActiveEditor=t;acf.validation.remove_error(r.closest(".acf-field"))});i.on("blur",function(){wpActiveEditor=null;n.save();s.trigger("change")})},destroy:function(){var e=this.o.id,t="mceRemoveControl";try{var n=tinyMCE.get(e);if(!n)return;tinymce.majorVersion==4&&(t="mceRemoveEditor");var r=n.getContent();tinyMCE.execCommand(t,!1,e);this.$textarea.val(r)}catch(i){}wpActiveEditor=null}};acf.add_action("ready",function(t){if(!acf.fields.wysiwyg.has_tinymce())return;acf.add_action("remove",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()})}).add_action("sortstart",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()})}).add_action("sortstop",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})}).add_action("append",function(t){acf.get_fields({type:"wysiwyg"},t).each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})}).add_action("load",function(t){var n=e("#wp-content-wrap").exists(),r=e("#wp-acf_settings-wrap").exists();mode="tmce";r&&e("#wp-acf_settings-wrap").hasClass("html-active")&&(mode="html");setTimeout(function(){r&&mode=="html"&&e("#acf_settings-tmce").trigger("click")},1);setTimeout(function(){var n=acf.get_fields({type:"wysiwyg"},t);n.each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).destroy()});setTimeout(function(){n.each(function(){acf.fields.wysiwyg.set({$el:e(this).find(".acf-wysiwyg-wrap")}).init()})},0)},10);setTimeout(function(){r&&mode=="html"&&e("#acf_settings-html").trigger("click");n&&acf.fields.wysiwyg.set({$el:e("#wp-content-wrap")}).add_events()},11)})});e(document).on("click",".acf-wysiwyg-wrap .mce_fullscreen",function(){var t=e(this).closest(".acf-wysiwyg-wrap");acf.get_data(t,"upload")||e("#mce_fullscreen_container #mce_fullscreen_add_media").hide()})})(jQuery);